.\" Automatically generated by Pandoc 2.7.3
.\"
.TH "mw" "1" "" "Version 2.0" "mutt-wizard man page"
.hy
.SH NAME
.PP
\f[B]mw\f[R] \[em] mutt-wizard - add, list, remove email configurations
for mbsync, getmail and mutt.
Sync email without mutt.
.SH SYNOPSIS
.PP
\f[B]mw\f[R] [<command>|<email>]
.PP
\f[B]mw\f[R] Same as \f[I]mw sync\f[R]
.PD 0
.P
.PD
\f[B]mw add\f[R] Add and configure an email address (9 max.)
.PD 0
.P
.PD
\f[B]mw list\f[R] List configured accounts
.PD 0
.P
.PD
\f[B]mw remove\f[R] Pick an account to remove
.PD 0
.P
.PD
\f[B]mw purge\f[R] Remove all accounts and settings
.PD 0
.P
.PD
\f[B]mw cron\f[R] Enable or disable an autosync via cronjob
.PD 0
.P
.PD
\f[B]mw sync\f[R] Sync mail based on config in
\f[I].config/isync/mbsyncrc\f[R] and \f[I].config/getmail/*\f[R]
.PD 0
.P
.PD
\f[B]mw \[en]help|-h\f[R] Print this message
.PD 0
.P
.PD
\f[B]mw \[en]version|-v\f[R] Print version
.SH DESCRIPTION
.PP
\f[B]mw\f[R] configures \f[B]mbsync\f[R], \f[B]getmail\f[R],
\f[B]msmtp\f[R] and \f[B]mutt\f[R] in one go.
\f[B]mutt\f[R] stands for \f[B]mutt\f[R] or \f[B]neomutt\f[R].
.PP
\f[B]mw\f[R] asks the user for the information it needs.
They cannot be provided as parameters to the command.
It is still possible to script \f[B]mw\f[R] by defining variables.
See the commands section.
.PP
\f[I]mutt-wizard.muttrc\f[R] is linked in your \f[I]muttrc\f[R].
Have this line there, if you prefer your own settings:
.IP
.nf
\f[C]
# source /usr/share/mutt-wizard/mutt-wizard.muttrc
\f[R]
.fi
.PP
You will need to keep the binding of \f[I]i,g,C,M\f[R] to
\f[I]noop\f[R], though, because of the generated bindings in the account
muttrc.
.SH COMMANDS
.PP
Without command parameter \f[B]sync\f[R] is assumed.
If the parameter contains \[at] an email is assumed and synced.
.PP
\f[I]add\f[R]
.RS
.PP
Add new email
.PP
First you decide, whether you want to configure
.IP \[bu] 2
\f[B]mbsync\f[R], \f[B]getmail\f[R], \f[B]msmtp\f[R] to sync emails
independently from \f[B]mutt\f[R] using \f[B]mw\f[R],
.IP \[bu] 2
or just \f[B]mutt\f[R].
For an IMAP server \f[B]mutt\f[R] becomes very slow.
So normally you enter \f[B]yes\f[R] here.
.PP
\f[B]mw\f[R] asks you the \f[B]email address\f[R].
.PP
\f[B]mw\f[R] has a \f[B]database\f[R] of IMAP4/POP3 and SMTP servers and
ports.
If you are lucky, your email server is there.
Else \f[B]mw\f[R] will prompt you.
.PP
Add an email without questions, e.g.:
.IP
.nf
\f[C]
a=x.y\[at]gmail.com mwtype=offline mwaddr=$a mwlogin=$a mwpass=mutt-wizard-$a mwserverinfo=\[dq]gmail.com,imap.gmail.com,993,smtp.gmail.com,587\[dq] mwname=\[dq]your name\[dq] mw add
\f[R]
.fi
.PP
\f[I]mwserverinfo\f[R] can be omitted, if the email domain is in the
accompanied \f[I]domains.csv\f[R].
.RE
.PP
\f[I]ls|list\f[R]
.RS
.PP
List all email accounts configured by mutt-wizard
.RE
.PP
\f[I]rm|remove\f[R]
.RS
.PP
Remove the configuration files for an already configured email
.PP
Remove without questions the email whose generated muttrc starts with 1:
.IP
.nf
\f[C]
mwpick=1 mw rm <<<y
\f[R]
.fi
.RE
.PP
\f[I]purge\f[R]
.RS
.PP
Removes all mw generated mutt settings and
.PP
\f[I].config/mutt/accounts/1-*\f[R]
.PD 0
.P
.PD
\f[I].config/isync/mbsyncrc\f[R]
.PD 0
.P
.PD
\f[I].config/getmail/*\f[R]
.PD 0
.P
.PD
\f[I].config/msmtp/config\f[R]
.PP
Files are under \f[I].config\f[R] or \f[I]$XDG_CONFIG_HOME\f[R]
.PP
If you don\[aq]t want questions:
.IP
.nf
\f[C]
mw purge <<<y
\f[R]
.fi
.RE
.PP
\f[I]cron\f[R]
.RS
.PP
Toggle a cronjob that periodically syncs mail
.PP
Without questions:
.IP
.nf
\f[C]
mwcronremove=yes mw cron
mwcronminutes=99 mw cron
\f[R]
.fi
.RE
.PP
\f[I]sync\f[R]
.RS
.PP
Syncs mail for all email accounts managed by \f[B]mw\f[R] (whose paths
end in the email).
.PP
This is the default, if no parameter is given.
If an email address is given, only that email is synced.
.PP
Every \f[B]mw\f[R] sync run will re-generate the \f[B]mutt\f[R]
configuration from the configuration files for \f[B]mbsync\f[R],
\f[B]getmail\f[R] and \f[B]msmtp\f[R].
So you could edit them after or not use \f[I]mw add\f[R] at all.
.PP
Just keep the \f[I]Path\f[R], \f[I]path\f[R] and \f[I]account\f[R]
ending in the email address.
.RE
.SH DEPENDENCIES
.PP
Required for email setup or operation:
.IP \[bu] 2
\f[I]pass\f[R] - pass (https://www.passwordstore.org/) safely encrypts
passwords
.IP \[bu] 2
\f[I]gnupg\f[R] - needed by \f[I]pass\f[R]
.IP \[bu] 2
\f[I]mutt/neomutt\f[R] - the email client (\f[I]mutt\f[R] untested).
.IP \[bu] 2
\f[I]isync\[cq]s mbsync\f[R] - syncs the mail
.IP \[bu] 2
\f[I]getmail\f[R] - used for POP3
.IP \[bu] 2
\f[I]msmtp\f[R] - sends the email
.PP
Optional:
.IP \[bu] 2
\f[I]w3m\f[R] - view HTML email and images in \f[B]mutt\f[R].
.IP \[bu] 2
\f[I]notmuch\f[R] - index and search mail.
If the configuration file \f[I]$NOTMUCH_CONFIG\f[R] is not there,
\f[I]mw add\f[R] will create it.
.IP \[bu] 2
\f[I]libnotify\f[R] - allows notifications when syncing mail with
\f[B]mw\f[R]
.IP \[bu] 2
\f[I]abook\f[R] - a terminal-based address book.
.IP \[bu] 2
A cron manager (e.g.\ *cronie*) - if you want to enable the auto-sync
feature.
.IP \[bu] 2
\f[I]pam-gnupg\f[R] - To provide your GPG key at login and never after.
See directions (https://github.com/cruegge/pam-gnupg).
.RS 2
.PP
Alternatively avoid constant password requests by increasing
.IP \[bu] 2
\f[I]default-cache-ttl\f[R] and \f[I]max-cache-ttl\f[R] in
\f[I]gpg-agent.conf\f[R]
.RE
.IP \[bu] 2
\f[I]urlscan\f[R] - outputs urls in mail
.SH INSTALLATION
.IP
.nf
\f[C]
git clone https://github.com/rpuntaie/mutt-wizard
cd mutt-wizard
sudo make install
\f[R]
.fi
.SH MUTT CONFIGURATION
.PP
Once everything is setup, you\[cq]ll use \f[B]mutt\f[R] to access your
mail.
.PP
The accompanied \f[I]mutt-wizard.muttrc\f[R] modifies some
\f[B]mutt\f[R] defaults.
Look there for a complete list.
.PP
Here an overview:
.IP \[bu] 2
\f[I]?\f[R] - see all keyboard shortcuts
.PP
\f[B]syncing\f[R]
.IP \[bu] 2
\f[I]gm / gM\f[R] - call mutt-wizard\[cq]s \f[I]mw sync\f[R] for one /
all mail accounts
.PP
\f[B]mailboxes,accounts\f[R]
.IP \[bu] 2
\f[I]ixy\f[R] - To go to \f[B]mailbox\f[R].
.IP \[bu] 2
\f[I]Mxy\f[R], \f[I]Cxy\f[R] - For Move and Copy to the according
mailbox, e.g.\ *Msp* means \[dq]move to Spam\[dq].
.IP \[bu] 2
\f[I]i[1-9]\f[R] - go to another \f[B]account\f[R].
.RS 2
.PP
\f[I]xy\f[R] are
.IP \[bu] 2
the two first letters of a mailbox or
.IP \[bu] 2
first letter of first + second letter of second path entry
.RE
.PP
\f[B]searching\f[R]
.IP \[bu] 2
\f[I]S\f[R] - search for a mail using \f[I]notmuch\f[R]
.IP \[bu] 2
\f[I]gl\f[R] - limit by substring of subject
.IP \[bu] 2
\f[I]gL\f[R] - undo limit
.PP
\f[B]composing\f[R]
.IP \[bu] 2
\f[I]ga\f[R] - to add address/person to \f[I]abook\f[R] and
\f[I]Tab\f[R] while typing address to complete one from book.
.IP \[bu] 2
\f[I]m/r/gr/f\f[R] - new/reply/group reply/forward \f[B]message\f[R],
using your default \f[I]$EDITOR\f[R] to write.
Then you enter the \f[B]compose screen\f[R].
.IP \[bu] 2
\f[I]a\f[R] - to add attachments
.IP \[bu] 2
\f[I]s/t/c/b/d\f[R] - to change the subject/to/CC/BCC/description.
.IP \[bu] 2
\f[I]S\f[R] - to change the signature/encryption
.IP \[bu] 2
\f[I]y\f[R] - to send the mail.
.PP
\f[B]delete,undelete,save\f[R]
.IP \[bu] 2
\f[I]dd\f[R] - delete mail
.IP \[bu] 2
\f[I]u\f[R] - undelete
.IP \[bu] 2
\f[I]$\f[R] - apply the mailbox changes \f[I]set trash\f[R] is set per
default.
Deleted mails will land there.
.IP \[bu] 2
\f[I]s\f[R] - save selected mail or selected attachment
.PP
\f[B]moving around\f[R]
.IP \[bu] 2
\f[I]gu\f[R] - open a menu to select a url you want to open in you
browser (needs urlscan).
.IP \[bu] 2
\f[I]j\f[R]/\f[I]k\f[R] - next/previous mail, \f[I]J/K\f[R] same,
without skipping deleted, and also when viewing mails
.IP \[bu] 2
\f[I]ctrl-d/f\f[R]/\f[I]ctrl-u/b\f[R] - down and up a half page / full
page
.IP \[bu] 2
\f[I]l\f[R] - open mail, or attachment page or attachment
.IP \[bu] 2
\f[I]h\f[R] - the opposite of \f[I]l\f[R]
.PP
\f[B]sidebar\f[R]
.IP \[bu] 2
\f[I]B\f[R] - toggles
.IP \[bu] 2
\f[I]ctrl-j\f[R]/\f[I]ctrl-k\f[R] - move up and down
.IP \[bu] 2
\f[I]ctrl-l/o\f[R] - opens mailbox
.PP
\f[B]input field/command line\f[R]
.IP \[bu] 2
\f[I]ctrl-u\f[R] clears the line
.IP \[bu] 2
\f[I]ctrl-a\f[R], \f[I]ctrl-e\f[R] go to beginning or end
.IP \[bu] 2
\f[I]ctrl-g\f[R] aborts
.SH DETAILS
.PP
\f[B]Encoding/Language\f[R]
.RS
.PP
\f[I]isync\f[R] is not fully UTF-8 compatible.
\f[B]mw\f[R] assumes english mailbox names.
Set your email language to English on your mail server.
.RE
.PP
\f[B]Mail location\f[R]
.RS
.PP
Mail is downloaded to a folders named after your emails in
\f[I]$MAILDIR\f[R].
\f[I]$MAILDIR\f[R] defaults to \f[I]$HOME/Mail/\f[R].
Neither \f[B]mw remove\f[R] nor \f[B]mw purge\f[R] will delete
downloaded mail.
.RE
.PP
\f[B]Gmail accounts\f[R]
.RS
.PP
For Gmail allow \[dq]less-secure\[dq] applications:
<<https://support.google.com/accounts/answer/6010255>>.
Do this before running mutt-wizard.
.RE
.PP
\f[B]Protonmail accounts\f[R]
.RS
.PP
Protonmail users must use the Protonmail Bridge
<<https://protonmail.com/bridge/>> to access their IMAP and SMTP
servers.
Do this before running mutt-wizard.
.RE
.SH FILES
.TP
.B \f[I]/user/bin/mw\f[R]
The main script to manage and sync emails.
.TP
.B \f[I]/user/bin/mwimage\f[R], \f[I]/user/bin/mwopen\f[R]
Used by the mailcap file that comes with mutt-wizard.
.TP
.B \f[I]/usr/share/mutt-wizard/mutt-wizard.muttrc\f[R]
Default mutt settings.
.TP
.B \f[I]/usr/share/mutt-wizard/mailcap\f[R]
Default mailcap file.
.TP
.B \f[I]/usr/share/mutt-wizard/domains.csv\f[R]
Email server database.
.SH BUGS
.PP
GitHub Issues: <<https://github.com/rpuntaie/mutt-wizard/issues>>
.SH AUTHORS
.TP
.B \f[I]Luke Smith\f[R] <<luke@lukesmith.xyz>>
Original author, started in 2018.
.RS
.PP
Github <<https://github.com/lukesmithxyz/mutt-wizard>>
.PP
Gitlab <<https://gitlab.com/lukesmithxyz/mutt-wizard>>
.RE
.TP
.B \f[I]Roland Puntaier\f[R] <<roland.puntaier@gmail.com>>
Bugfixes, Improvements in 2019.
.RS
.PP
GitHub: <<https://github.com/rpuntaie/mutt-wizard>>
.RE
.SH LICENSE
.PP
GPLv3
.SH SEE ALSO
.PP
\f[B]neomutt\f[R](1), \f[B]neomuttrc\f[R](1) \f[B]mbsync\f[R](1),
\f[B]msmtp\f[R](1), \f[B]notmuch\f[R](1), \f[B]abook\f[R](1)
